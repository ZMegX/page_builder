{% extends "base.html" %}
{% load static %}
{% block title %}My Orders{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/customer-order-list.css' %}">
{% endblock %}
{% block content %}
<div class="container py-5 customer-order-list">
  <h1 class="fw-bold mb-4 text-center customer-order-list">My Orders</h1>
  <div class="table-responsive customer-order-list">
    <table class="table order-table customer-order-list">
      <thead class="customer-order-list">
        <tr class="customer-order-list">
          <th class="customer-order-list" scope="col">#</th>
          <th class="customer-order-list" scope="col">Date</th>
          <th class="customer-order-list" scope="col">Restaurant</th>
          <th class="customer-order-list" scope="col">Total</th>
          <th class="customer-order-list" scope="col">Status</th>
          <th class="customer-order-list" scope="col">Details</th>
        </tr>
      </thead>
      <tbody class="customer-order-list">
        {% for order in orders %}
        <tr class="customer-order-list">
          <td class="customer-order-list">{{ order.id }}</td>
          <td class="customer-order-list">{{ order.created_at|date:"SHORT_DATETIME_FORMAT" }}</td>
          <td class="customer-order-list">{{ order.restaurant.name }}</td>
          <td class="customer-order-list">{{ order.total|floatformat:2 }} â‚¬</td>
          <td class="customer-order-list">
            <span class="order-status customer-order-list {{ order.status|lower|slugify }}">{{ order.get_status_display }}</span>
          </td>
          <td class="customer-order-list">
            <a href="{% url 'order_detail' order.id %}" class="btn btn-outline-primary btn-sm customer-order-list">View</a>
          </td>
        </tr>
        {% empty %}
        <tr class="customer-order-list">
          <td colspan="6" class="text-center text-muted customer-order-list">No orders found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
